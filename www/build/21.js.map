{"version":3,"sources":["../../src/pages/cart/cart.module.ts","../../src/pages/cart/cart.ts"],"names":[],"mappings":"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","file":"21.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { CartPage } from './cart';\n\n@NgModule({\n\tdeclarations: [\n\t\tCartPage\n\t],\n\timports: [\n\t\tIonicPageModule.forChild(CartPage)\n\t],\n\texports: [\n\t\tCartPage\n\t]\n})\n\nexport class CartPageModule { }\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/cart/cart.module.ts","import { Component } from '@angular/core';\nimport { IonicPage, NavController, NavParams } from 'ionic-angular';\n\nimport { CartService } from '../../providers/cart-service-mock';\nimport { RestBackendProvider } from '../../providers/rest-backend';\n\n@IonicPage({\n\tname: 'page-cart',\n\tsegment: 'cart'\n})\n\n@Component({\n  selector: 'page-cart',\n  templateUrl: 'cart.html',\n})\n\nexport class CartPage {\n\n\t// orders: Array<any> = [];\n  totalVal: number = 0;\n  orderRest: any;\n\titemsLength: number;\n\timagesDishUrl: string;\n\n  constructor(public navCtrl: NavController,\n    public navParams: NavParams,\n    public cartService: CartService,\n    public serviceBackend: RestBackendProvider,\n    ) {\n    // this.getOrders();\n\t\tthis.getOrderRest();\n\t\tthis.imagesDishUrl = this.serviceBackend.getImgDishUrl();\n  }\n\n  getOrderRest() {\n    this.serviceBackend.getCartByUserId()\n    .then(data => {\n        this.orderRest = data;\n        this.totalVal = this.orderRest.cart.total;\n        let aux = this.orderRest.cart.items.length;\n        this.itemsLength = aux;\n        this.orderRest = this.orderRest.cart.items;\n    });\n  }\n\n  removeOrder (itemId:string) {\n    this.serviceBackend.deleteItemFromCart(itemId)\n    .then(() => {\n      this.getOrderRest();\n    })\n    .catch(error => alert(JSON.stringify(error)))\n  }\n\n  // getOrders () {\n  //   this.cartService.getOrders().then(orders => {\n  //   \tthis.orders = orders\n  //   \tthis.totalVal = 0;\n  //   \tthis.orders.forEach((val, i) => {\n  //   \t\tthis.totalVal = this.totalVal + (val.order.price * val.qtd)\n  //   \t});\n  //   });\n  // }\n\n  // minus adult when click minus button\n  minusQtd(itemId:string, qty: number) {\n    let aux = qty - 1;\n    this.serviceBackend.modifyItemFromCartQty(itemId, aux)\n    .then(() => {\n      this.getOrderRest();\n    })\n    .catch(error => alert(JSON.stringify(error)));\n  }\n\n  // plus adult when click plus button\n  plusQtd(itemId:string, qty: number) {\n\t\tlet aux = qty + 1;\n    this.serviceBackend.modifyItemFromCartQty(itemId, aux)\n    .then(() => {\n      this.getOrderRest();\n    })\n    .catch(error => alert(JSON.stringify(error)));\n  }\n\n  openCheckout() {\n      this.navCtrl.push('page-checkout');\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/cart/cart.ts"],"sourceRoot":""}