{"version":3,"sources":["../../src/pages/modal-map/modal-map.module.ts","../../src/pages/modal-map/modal-map.ts"],"names":[],"mappings":"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","file":"12.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { ModalMapPage } from './modal-map';\n\n@NgModule({\n  declarations: [\n    ModalMapPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(ModalMapPage),\n  ],\n  exports: [\n\t\tModalMapPage\n\t]\n})\nexport class ModalMapPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/modal-map/modal-map.module.ts","import { Component, Renderer2, ViewChild, ElementRef } from '@angular/core';\nimport { IonicPage, NavController, NavParams } from 'ionic-angular';\nimport { RestBackendProvider } from '../../providers/rest-backend';\n\n/**\n * Generated class for the ModalMapPage page.\n *\n * See https://ionicframework.com/docs/components/#navigation for more info on\n * Ionic pages and navigation.\n */\n\n@IonicPage({\n  name: 'page-modal-map',\n\tsegment: 'modal-map'\n})\n@Component({\n  selector: 'page-modal-map',\n  templateUrl: 'modal-map.html',\n})\nexport class ModalMapPage {\n  @ViewChild('map') mapElementRef: ElementRef;\n  constructor(\n    public navCtrl: NavController, \n    public navParams: NavParams,\n    private renderer: Renderer2,\n    public serviceBackend: RestBackendProvider,\n    ) {\n  }\n\n  ionViewDidLoad() {\n    console.log('ionViewDidLoad ModalMapPage');\n  }\n\n  closeModal() {\n    this.navCtrl.pop();\n  }\n\n\n  ngAfterViewInit() {\n\t\tthis.getGoogleMaps()\n      .then(googleMaps => {\n        const mapEl = this.mapElementRef.nativeElement;\n        const map = new googleMaps.Map(mapEl, {\n          center: { lat: -34.397, lng: 150.644 },\n          zoom: 16\n        });\n\n        googleMaps.event.addListenerOnce(map, 'idle', () => {\n          this.renderer.addClass(mapEl, 'visible');\n        });\n\n        map.addListener('click', event => {\n          this.serviceBackend.setLatitude(event.latLng.lat());\n          this.serviceBackend.setLongitude(event.latLng.lng());\n          this.serviceBackend.setHaveCordenadas(true);\n          this.navCtrl.setRoot('page-home');\n        });\n      })\n      .catch(err => {\n        console.log(err);\n      });\n  }\t\n  \n  selectPruebaOffline() {\n    this.serviceBackend.setLatitude(19);\n    this.serviceBackend.setLongitude(19);\n    this.serviceBackend.setHaveCordenadas(true);\n    this.navCtrl.setRoot('page-home');\n    // this.navCtrl.pop();\n  }\n\n  private getGoogleMaps(): Promise<any> {\n    const win = window as any;\n    const googleModule = win.google\n    if (googleModule && googleModule.maps) {\n      return Promise.resolve(googleModule.maps);\n    }\n    return new Promise((resolve, reject) => {\n      const script = document.createElement('script');\n      script.src =\n        'https://maps.googleapis.com/maps/api/js?key=AIzaSyC9xndXu6gNfgqDxxEGwuRzUxAT-QqfWXM';\n      script.async = true;\n      script.defer = true;\n      document.body.appendChild(script);\n      script.onload = () => {\n        const loadedGoogleModule = win.google;\n        if (loadedGoogleModule && loadedGoogleModule.maps) {\n          resolve(loadedGoogleModule.maps);\n        } else {\n          reject('Google maps SDK not available.');\n        }\n      };\n    });\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/modal-map/modal-map.ts"],"sourceRoot":""}